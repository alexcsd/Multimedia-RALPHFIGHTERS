
<html>
	<head>
		<title>Ralph fighter</title>
		<style>
			body{
				background: black;
			}
			#cbody{
				width: 800px;
				margin: 0 auto;
			}
		</style>
	</head>
	<body>
		<div id="cbody">
		</div>
		<!-- full code at https://github.com/Alexgeni/alexgeni.github.io/tree/master/games/Multimedia Under MIT licence-->
		<script>
			function character(a,b,c,d,e,f,g,h){this.score=0,this.scorex=h,this.height=c,this.width=d,this.x=a,this.y=b,this.healthx=e,this.name=g,this.health=100,this.jump=!1,this.punching=!1,this.gaurd=!1,this.walk=!1,this.img=f,this.image=function(a){this.img=a,updateGame()},this.update=function(){var a=mainArea.context;a.font="25px Impact",a.fillStyle="white",a.fillText("score:"+this.score,this.scorex,110),a.fillStyle="red",a.fillRect(this.healthx,40,2*this.health,40),a.drawImage(this.img,this.x,this.y,this.width,this.height)}}function effects(a){this.sound=document.createElement("audio"),this.sound.src=a,this.sound.style.display="none",this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),document.body.appendChild(this.sound),this.play=function(){this.sound.play(),this.sound.currentTime=0},this.stop=function(){this.sound.pause()}}var keys,mysound,PP,OP,OK,PK,OG,PG,BG,gov,intro;BG=new effects("FS/BR.mp3"),OP=new effects("FS/psh3.wav"),gov=new effects("FS/GOV.mp3"),mysound=new effects("FS/spin_200ms_05.wav"),PP=new effects("FS/psh1.wav"),PK=new effects("FS/kick_H_09.wav"),PG=new effects("FS/block_L_05.wav"),OG=new effects("FS/block_L_04.wav"),OK=new effects("FS/kick_M_05.wav"),OP=new effects("FS/psh3.wav"),intro=document.createElement("video"),intro.src="intro.MP4",intro.style.display="none",intro.setAttribute("preload","auto"),intro.setAttribute("controls","none"),document.getElementById("cbody").appendChild(intro);var images={},sources={gaurd_left:"im/guard_left.png",gaurd_right:"im/guard_right.png",kick_left:"im/kick_left.png",kick_right:"im/kick_right.png",punch_left:"im/punch_left.png",punch_right:"im/punch_right.png",start_left:"im/start_left.png",start_right:"im/start_right.png",walk1_left:"im/walk1_left.png",walk1_right:"im/walk1_right.png",walk2_left:"im/walk2_left.png",walk2_right:"im/walk2_right.png",x:"im/x.jpg",y:"im/y.jpg"},loadImages=function(){var a=0,b=0;for(var c in sources)sources.hasOwnProperty(c)&&b++;for(var d in sources)images[d]=new Image,images[d].onload=function(){++a>=b&&initialize()},images[d].src=sources[d]},mainArea={canvas:document.createElement("canvas"),background:"im/y.jpg",start:function(){this.canvas.width=800,this.canvas.height=600,this.context=this.canvas.getContext("2d"),document.querySelector("#cbody").appendChild(this.canvas)},clear:function(){var a=new Image;a.src=this.background,this.context.drawImage(a,1,1)}},startScreen={start:function(){this.options=["Start Fight","Insructions","About"],this.index=0,this.interval=setInterval(checkOpt,150),BG.sound.setAttribute("loop","none"),BG.play()},stop:function(){clearInterval(this.interval)},instruction:function(){this.timer=setInterval(inst,30)},back:function(){mainArea.background="im/y.jpg",clearInterval(this.timer),BG.stop(),this.start()},about:function(){this.timer=setInterval(about,33)},gameover:function(){this.timer=setInterval(gameOver,33)}},checkOpt=function(){var a=mainArea.context;mainArea.clear(),a.font="30px Comic Sans MS",a.textAlign="left";for(var b=0;b<3;b++)startScreen.index==b&&(a.strokeStyle="red",a.lineWidth=3,a.strokeText(startScreen.options[b],70,100*(b+2))),a.fillStyle="white",a.fillText(startScreen.options[b],70,100*(b+2));if(keys&&keys[38])startScreen.index=(startScreen.index-1+3)%3;else if(keys&&keys[40])startScreen.index=(startScreen.index+1)%3;else if(keys&&keys[13]){if(0===startScreen.index){startScreen.stop();var c=prompt("player 1 name")||"Player1",d=prompt("player 2 name")||" player2";gameArea.start(c,d)}1==startScreen.index&&(startScreen.stop(),startScreen.instruction()),2==startScreen.index&&(startScreen.stop(),startScreen.about())}},inst=function(){var a=mainArea.context,b=250;startScreen.stop(),mainArea.clear(),a.textAlign="left",a.font="30px Impact",a.fillStyle="white",a.fillText("Player 1 controls",100,b),a.font="20px Serif",a.fillText("W :moves the charachter up",100,b+25),a.fillText("A :moves the charachter Left",100,b+50),a.fillText("D :moves the charachter Right",100,b+75),a.fillText("V :Punch the enemy",100,b+100),a.fillText("B :Kick the enemy",100,b+125),a.fillText("N :Block the incoming hits",100,b+150),a.fillStyle="white",a.font="30px Impact",a.fillText("Player 2 controls",400,b),a.font="20px Serif",a.fillText("arrow up :moves the charachter up",400,b+25),a.fillText("arrow left :moves the charachter Left",400,b+50),a.fillText("arrow right :moves the charachter Right",400,b+75),a.fillText("home key :Punch the enemy",400,b+100),a.fillText("end key :kick the enemy",400,b+125),a.fillText("pg dn key :Block the incoming hits",400,b+150),keys&&keys[27]&&startScreen.back()},about=function(){var a=mainArea.context,b=225;startScreen.stop(),mainArea.clear(),a.textAlign="left",a.font="40px Impact",a.strokeStyle="green",a.lineWidth=2,a.fillStyle="white",a.fillText("Multimedia Project #2",50,b-55),a.strokeText("Multimedia Project #2",50,b-55),a.font="25px Serif",a.fillStyle="yellow",a.fillText("Created by :",100,b-10),a.fillStyle="white",a.fillText("Ahmed Matter",100,b+25),a.fillText("Aser aboelkheir",100,b+50),a.fillText("Omar Elrayes",100,b+75),a.fillText("Monica Ayad",100,b+100),a.fillText("Monica Swiras",100,b+125),a.fillText("Abderlrahman Sharaf",100,b+150),a.fillText("Sherif Abdelmoneam",100,b+175),a.fillText("Mahmoud Gomaa",100,b+200),a.fillText("Osama Dabous",100,b+225),a.fillText("Mohamed Shaaban",100,b+250),a.fillText("Inspired by dr:khaled Elwzan",100,b+300),keys&&keys[27]&&startScreen.back()},gameArea={start:function(a,b){this.myPlayer=new character(50,mainArea.canvas.height-230,170,140,40,images.start_left,a,100),this.enemy=new character(mainArea.canvas.width-150,mainArea.canvas.height-230,170,140,mainArea.canvas.width-240,images.start_right,b,620),this.interval=setInterval(gameAnimation,33),mainArea.background="im/x.jpg"},stop:function(){clearInterval(this.interval)}},gameAnimation=function(){keys&&keys[27]&&(gameArea.stop(),startScreen.back());var a=gameArea.myPlayer,b=gameArea.enemy;if(keys&&keys[65]&&a.x>5&&(a.x-=5,a.walk||a.jump||a.punching||a.gaurd||(a.image(images.walk1_left),a.walk=!0,setTimeout(function(){a.image(images.start_left)},60),setTimeout(function(){a.walk=!1},200))),keys&&keys[37]&&b.x>a.x+a.width+5&&(b.x-=5,b.walk||b.jump||b.punching||b.gaurd||(b.image(images.walk2_right),b.walk=!0,setTimeout(function(){b.image(images.start_right)},60),setTimeout(function(){b.walk=!1},200))),keys&&keys[68]&&a.x+a.width+5<b.x&&(a.x+=5,a.walk||a.jump||a.punching||a.gaurd||(a.image(images.walk2_left),a.walk=!0,setTimeout(function(){a.image(images.start_left)},60),setTimeout(function(){a.walk=!1},200))),keys&&keys[39]&&b.x+b.width+5<mainArea.canvas.width&&(b.x+=5,b.walk||b.jump||b.punching||b.gaurd||(b.image(images.walk1_right),b.walk=!0,setTimeout(function(){b.image(images.start_right)},60),setTimeout(function(){b.walk=!1},200))),keys&&keys[87]&&!a.jump){var c=a.y-50;a.jump=!0,mysound.play(),timer=setInterval(function(){c>=a.y?(clearInterval(timer),timer=setInterval(function(){a.y+=2,c<=a.y-50&&(clearInterval(timer),a.jump=!1)},20)):a.y-=2},20)}if(keys&&keys[38]&&!b.jump){var d=b.y-50;b.jump=!0,mysound.play(),timer2=setInterval(function(){d>=b.y?(clearInterval(timer2),timer2=setInterval(function(){b.y+=2,d<=b.y-50&&(clearInterval(timer2),b.jump=!1)},20)):b.y-=2},20)}a.gaurd||a.punching||!keys||!keys[86]&&!keys[66]||(a.punching=!0,a.width+=20,keys[86]&&(PP.play(),a.image(images.punch_left)),keys[66]&&(PK.play(),a.image(images.kick_left)),b.gaurd||(keys[86]&&a.y<b.y+b.height&&a.y+a.height/2>b.y&&a.x+a.width>=b.x&&(b.health-=5,b.score>0&&(b.score-=5),a.score+=5),keys[66]&&a.y+a.height/2<b.y+b.height&&a.y+a.height>b.y&&a.x+a.width>=b.x&&(b.health-=5,b.score>0&&(b.score-=5),a.score+=5)),setTimeout(function(){a.width-=20,a.image(images.start_left)},200),setTimeout(function(){a.punching=!1},300)),b.gaurd||b.punching||!keys||!keys[36]&&!keys[35]||(b.punching=!0,b.width+=20,b.x-=20,keys[36]&&(OP.play(),b.image(images.punch_right)),keys[35]&&(OK.play(),b.image(images.kick_right)),a.gaurd||(keys[36]&&a.y<b.y+b.height&&a.y+a.height>b.y&&a.x+a.width>=b.x&&(a.health-=5,OP.play(),b.image(images.punch_right),a.score>0&&(a.score-=5),b.score+=5),keys[35]&&a.y<b.y+b.height&&a.y+a.height>b.y&&a.x+a.width>=b.x&&(a.health-=5,OK.play(),b.image(images.kick_right),a.score>>0&&(a.score-=5),b.score+=5)),setTimeout(function(){b.width-=20,b.x+=20,b.image(images.start_right)},200),setTimeout(function(){b.punching=!1},300)),keys&&keys[78]&&!a.gaurd&&(PG.play(),a.gaurd=!0,a.image(images.gaurd_left)),keys&&!keys[78]&&a.gaurd&&(a.gaurd=!1,a.image(images.start_left)),keys&&keys[34]&&!b.gaurd&&(OG.play(),b.gaurd=!0,b.image(images.gaurd_right)),keys&&!keys[34]&&b.gaurd&&(b.gaurd=!1,b.image(images.start_right)),updateGame(),(a.health<=0||b.health<=0)&&(gameArea.stop(),gov.play(),BG.stop(),startScreen.gameover())},initialize=function(){mainArea.start(),startScreen.start()},updateGame=function(){mainArea.clear(),gameArea.myPlayer.update(),gameArea.enemy.update()},gameOver=function(){mainArea.clear();var b,a=mainArea.context;gameArea.enemy.health?(b=gameArea.enemy.name,scorew=gameArea.enemy.score):(b=gameArea.myPlayer.name,scorew=gameArea.myPlayer.score),a.fillStyle="white",a.font="55px Comic Sans MS",a.textAlign="center",a.fillText("Game Over",mainArea.canvas.width/2,mainArea.canvas.height/2-50),a.font="45px Comic Sans MS",a.fillStyle="red",a.fillText(b+" Wins",mainArea.canvas.width/2,mainArea.canvas.height/2+50),a.font="30px Arial",a.fillStyle="white",a.fillText("with score:"+scorew,mainArea.canvas.width/2,mainArea.canvas.height/2+100),a.fillStyle="white",a.font="30px Arial",a.fillText("Press Esc to play again",mainArea.canvas.width/2,mainArea.canvas.height/2+150),keys&&keys[27]&&startScreen.back()};document.onkeydown=function(a){a.preventDefault(),keys=keys||[],keys[a.keyCode]=!0},document.onkeyup=function(a){keys[a.keyCode]=!1};var playV=function(){intro.ended?loadImages():(mainArea.context.drawImage(intro,-10,0,mainArea.canvas.width+40,mainArea.canvas.height),setTimeout(playV,20))};intro.onloadeddata=function(){intro.play(),mainArea.start(),playV()};
		</script>
		<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-84998043-1', 'auto');
  ga('send', 'pageview');

</script>

	</body>
</html>
